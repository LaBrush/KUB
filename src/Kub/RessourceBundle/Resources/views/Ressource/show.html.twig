{% extends "::base.html.twig" %}

{% block title %}
	{{ parent() }} - {{ ressource }}
{% endblock %}

{% block body %}

	<article class="article">
		
		<ul>
			<li>
				{{ ressource }}	
			</li>
		</ul>

		{% if not ressource.valide %}

			<p>Cette ressource n'a pas été validée et n'est donc pas affichée par défaut.

			{% if is_granted('ROLE_PROFESSEUR') %}
				{{ render(controller('KubRessourceBundle:Validation:valider', { id: ressource.id})) }}
			{% endif %}

			</p>
		{% endif %}

		{% if app.user.id == ressource.depositaire.id %}

			<a href="{{ path('kub_ressource_edit', { id: ressource.id }) }}">Modifier la ressource</a>
			<a href="{{ path('kub_ressource_delete', { id: ressource.id }) }}">Supprimer la ressource</a>

		{% endif %}

	</article>

{% endblock %}

{% block js %}
	<script type="text/javascript" src="{{ asset('ressources/select2/select2.min.js') }}"></script>
	<link rel="stylesheet" href="{{ asset('ressources/select2/select2.css') }}" />
	<script type="text/javascript" src="{{ asset('ressources/jsmin/search.min.js') }}"></script>
	<script type="text/javascript" src="{{ asset('ressources/jsmin/fuse.min.js') }}"></script>
	<script type="text/javascript" src="{{ asset('ressources/jsmin/ressources.min.js') }}"></script>
{% endblock %}