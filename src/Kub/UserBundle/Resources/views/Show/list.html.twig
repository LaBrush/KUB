{% extends "::base.html.twig" %}

{% block title %}
	{{ parent() }} - Liste des {{ role }}s
{% endblock %}

{% block body %}

	<article class="article">
		<h2 class="section-title">{{ role | capitalize }}s</h2>
	</article>

	<article class="article">
		<div class="create">
			<a class="button-yes" class="button-yes" href="{{ path('user_create', { role: role }) }}">Créer un {{ role }}</a>
		</div>

		<label for="search-in-list">Chercher dans la liste :</label>
		<input id="search-in-list" type="text">
		
		<ul class="liste">
			{% for user in list_users %}
			
				<a href="{{ path('user_show', { role: role, username: user.username }) }}">
					<li class="in-list li-list">

						{% if role == 'eleve' %}
			
							<img src="{{ asset(user.photo.webPath) }}" alt="{{ user.nom }} {{ user.prenom }}">

						{% endif %}

						<span>{{ user.nom }} {{ user.prenom }}</span>
					</li>
				</a>

			{% endfor %}

			{% if list_users|length == 0 %}
				<li>Aucun {{ role }} enregistré pour le moment</li>
			{% endif %}
		</ul>
	</article>

{% endblock %}

{% block js %}
	<script type="text/javascript" src="{{ asset('ressources/jsmin/fuse.min.js') }}"></script>
	<script type="text/javascript" src="{{ asset('ressources/jsmin/search.min.js') }}"></script>
	<script type="text/javascript" src="{{ asset('ressources/js/user_get.js') }}"></script>
{% endblock %}