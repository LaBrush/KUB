{% extends 'KubCollaborationBundle::layout.html.twig' %}

{% set documentheque = projet.documentheque %}

{% block content %}

	<h3 class="h2 article">Liste des documents</h3>

	<article class="article">

		<div class="create">
			<a class="button-yes" href="{{ path('kub_collaboration_documentheque_ressource_create', { slug: projet.slug}) }}">Déposer une ressource</a>
			<a class="button-yes" href="{{ path('kub_collaboration_documentheque_fichier_create', { slug: projet.slug}) }}">Créer un fichier</a>
		</div>

		<label for="search-in-list">Chercher dans la liste :</label>
		<input id="search-in-list" type="text">

		<ul class="list">
			{% set empty = 0 %}

			{% for ressource in documentheque.ressources %}
				<li class="in-list li-list">{{ ressource }} - 
					<a href="{{ path('kub_collaboration_documentheque_ressource_show', { slug: projet.slug, id: ressource.id}) }}">Voir</a> - 
					<a href="{{ path('kub_collaboration_documentheque_ressource_edit', { slug: projet.slug, id: ressource.id}) }}">Modifier</a>
				</li>
			{% else %}
				{% set empty = empty + 1 %}
			{% endfor %}
			
			{% for fichier in documentheque.fichiers %}
				<a href="{{ path('kub_collaboration_documentheque_fichier_go', { slug: projet.slug, id: fichier.id}) }}">
					<li class="in-list li-list">
						{{ fichier }}
					</li>
				</a>
			{% else %}
				{% set empty = empty + 1 %}
			{% endfor %}

			{% if empty == 2 %}
				<p class="error">Il n'y a aucun document</p>
			{% endif %}

		</ul>
	</article>

{% endblock %}