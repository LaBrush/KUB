$(function(){function e(e){for(var a=0;a<e.length;a++){e[a].$.show();for(arg in e[a])e[a][arg]||e[a].$.hide()}}var a=new Array,t=new Array;$(".ressource").each(function(){a.push({$:$(this),name:!0,matiere:!0})}),$(".options-tri>li").click(function(){$(this).toggleClass("unchecked"),$(this).toggleClass("checked");var r=$(this).attr("id");if($(this).hasClass("unchecked"))t.push(r);else for(var n=t.length-1;n>=0;n--)t[n]==r&&delete t[n];for(var n=t.length-1;n>=0;n--)for(var i=a.length-1;i>=0;i--)a[i]["categories"+n]=a[i].$.is("[data-bool~="+t[n]+"]")?!1:!0;e(a)}),$("#matiere").change(function(){var t=$(this).val();if(t)for(var r=0;r<a.length;r++)a[r].matiere=a[r].$.attr("data-matiere")==t?!0:!1;else for(var r=0;r<a.length;r++)a[r].matiere=!0;e(a)}),$("#auteur").change(function(){var t=$(this).val();if(t)for(var r=0;r<a.length;r++)a[r].auteur=a[r].$.attr("data-auteur")==t?!0:!1;else for(var r=0;r<a.length;r++)a[r].auteur=!0;e(a)}).select2(),$("#depositaire").change(function(){var t=$(this).val();if(t)for(var r=0;r<a.length;r++)a[r].depositaire=a[r].$.attr("data-depositaire")==t?!0:!1;else for(var r=0;r<a.length;r++)a[r].depositaire=!0;e(a)}).select2();var r=new Array,n=0;$(".in-list").each(function(){r.push({id:n,name:$(this).text()}),n++}),$("#search-in-list").keyup(function(){var t=$(this).val();if(t){var n={keys:["name"]},i=new Fuse(r,n),s=i.search(t);jQuery.extend(jQuery.expr[":"],{Contains:"jQuery(a).text().toUpperCase().indexOf(m[3].toUpperCase())>=0"}),s.forEach(function(e){for(var t=0;t<a.length;t++)a[t].name=a[t].$.is(':contains("'+e.name+'")')?!0:!1})}else for(var o=0;o<a.length;o++)a[o].name=!0;e(a)})});