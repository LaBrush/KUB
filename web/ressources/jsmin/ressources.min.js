$(function(){function e(e){for(var r=0;r<e.length;r++){e[r].$.show();for(arg in e[r])e[r][arg]||e[r].$.hide()}}var r=new Array,t=new Array;$(".ressource").each(function(){r.push({$:$(this),name:!0,matiere:!0})}),$(".options-tri>li").click(function(){$(this).toggleClass("unchecked"),$(this).toggleClass("checked");var i=$(this).attr("id");if($(this).hasClass("unchecked"))t.push(i);else for(var a=t.length-1;a>=0;a--)t[a]==i&&delete t[a];for(var a=t.length-1;a>=0;a--)for(var n=r.length-1;n>=0;n--)r[n]["categories"+a]=r[n].$.is("[data-bool~="+t[a]+"]")?!1:!0;e(r)}),$("#matiere").change(function(){var t=$(this).val();if(t)for(var i=0;i<r.length;i++)r[i].matiere=r[i].$.attr("data-matiere")==t?!0:!1;else for(var i=0;i<r.length;i++)r[i].matiere=!0;e(r)}),$("#auteur").change(function(){var t=$(this).val();if(t)for(var i=0;i<r.length;i++)r[i].auteur=r[i].$.attr("data-auteur")==t?!0:!1;else for(var i=0;i<r.length;i++)r[i].auteur=!0;e(r)}).select2();var i=new Array,a=0;$(".in-list").each(function(){i.push({id:a,name:$(this).text()}),a++}),$("#search-in-list").keyup(function(){var t=$(this).val();if(t){var a={keys:["name"]},n=new Fuse(i,a),u=n.search(t);jQuery.extend(jQuery.expr[":"],{Contains:"jQuery(a).text().toUpperCase().indexOf(m[3].toUpperCase())>=0"}),u.forEach(function(e){for(var t=0;t<r.length;t++)r[t].name=r[t].$.is(':contains("'+e.name+'")')?!0:!1})}else for(var o=0;o<r.length;o++)r[o].name=!0;e(r)})}),$(function(){$(".file").hide(),$("input:file").removeAttr("required"),$("input:radio").click(function(){$("input:radio")[0].checked?($(".file").hide(),$("input:file").removeAttr("required"),$(".url").show(),$("input:url").attr("required","required")):($(".file").show(),$("input:file").attr("required","required"),$(".url").hide(),$("input:url").removeAttr("required"))})});